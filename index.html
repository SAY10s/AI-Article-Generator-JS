<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap");
      html {
        font-family: "Roboto", sans-serif;
      }
      body {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }
      p {
        font-size: 18px;
        line-height: 27px;
      }
    </style>
  </head>
  <body>
    <div id="main" style="max-width: 1100px"></div>
  </body>
  <script>
    fetch("http://localhost:8080/api", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify({
        amountOfSections: 3,
        title: "Wpływ wody na człowiueka",
        additionalContext: "Make article as long as possible",
      }),
    })
      .then((response) => response.json())
      .then((data) => {
        // Handle the response data here
        console.log(data);
        const html = data.map((item) => {
          let content = item.content;
          content = content.split(".");
          console.log(content);
          content = content.map((item) => {
            return `${item}. `;
          });
          console.log(content);
          const firstHalf = content.slice(0, Math.ceil(content.length / 2));
          const secondHalf = content.slice(Math.ceil(content.length / 2));
          return `
        <h2>
            <span style="font-size: 18pt">
                <strong>
                    ${item.header}
                </strong>
            </span>
        </h2>
        <p><br /></p>
        <p dir="ltr">
            ${firstHalf.join("")}
        </p>
        <p><br /></p>
        <p dir="ltr">
            ${secondHalf.join("")}
        </p>
        <p><br /></p>
        `;
        });
        console.log(html);
        document.getElementById("main").innerHTML = html.join("");
      })
      .catch((error) => {
        // Handle any errors here
        console.error(error);
      });
    console.log("XD");
  </script>
</html>
